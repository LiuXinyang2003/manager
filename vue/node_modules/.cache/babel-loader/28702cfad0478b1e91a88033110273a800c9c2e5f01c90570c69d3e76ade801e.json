{"ast":null,"code":"const sendMsgContainer = document.querySelector(\"#sendMessage\");\nconst receivedMsgContainer = document.querySelector(\"#receivedMessage\");\nconst socket = new WebSocket(\"ws://echo.websocket.org\");\n// 监听连接成功事件\nsocket.addEventListener(\"open\", function (event) {\n  console.log(\"连接成功，可以开始通讯\");\n});\n// 监听消息\nsocket.addEventListener(\"message\", function (event) {\n  console.log(\"Message from server \", event.data);\n  receivedMsgContainer.value = event.data;\n});\nfunction send() {\n  const message = sendMsgContainer.value;\n  if (socket.readyState !== WebSocket.OPEN) {\n    console.log(\"连接未建立，还不能发送消息\");\n    return;\n  }\n  if (message) socket.send(message);\n}","map":{"version":3,"names":["sendMsgContainer","document","querySelector","receivedMsgContainer","socket","WebSocket","addEventListener","event","console","log","data","value","send","message","readyState","OPEN"],"sources":["src/views/manager/Test.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>WebSocket Connection Example</h1>\r\n    <button @click=\"connect\">Connect</button>\r\n    <button @click=\"disconnect\">Disconnect</button>\r\n    <button @click=\"sendMessage\">Send Message</button>\r\n    <div v-if=\"messages.length\">\r\n      <h2>Received Messages:</h2>\r\n      <ul>\r\n        <li v-for=\"message in messages\" :key=\"message.id\">{{ message.content }}</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst sendMsgContainer = document.querySelector(\"#sendMessage\");\r\nconst receivedMsgContainer = document.querySelector(\"#receivedMessage\");\r\nconst socket = new WebSocket(\"ws://echo.websocket.org\");\r\n// 监听连接成功事件\r\nsocket.addEventListener(\"open\", function (event) {\r\n  console.log(\"连接成功，可以开始通讯\");\r\n});\r\n// 监听消息\r\nsocket.addEventListener(\"message\", function (event) {\r\n  console.log(\"Message from server \", event.data);\r\n  receivedMsgContainer.value = event.data;\r\n});\r\nfunction send() {\r\n  const message = sendMsgContainer.value;\r\n  if (socket.readyState !== WebSocket.OPEN) {\r\n    console.log(\"连接未建立，还不能发送消息\");\r\n    return;\r\n  }\r\n  if (message) socket.send(message);\r\n}\r\n</script>"],"mappings":"AAgBA,MAAAA,gBAAA,GAAAC,QAAA,CAAAC,aAAA;AACA,MAAAC,oBAAA,GAAAF,QAAA,CAAAC,aAAA;AACA,MAAAE,MAAA,OAAAC,SAAA;AACA;AACAD,MAAA,CAAAE,gBAAA,mBAAAC,KAAA;EACAC,OAAA,CAAAC,GAAA;AACA;AACA;AACAL,MAAA,CAAAE,gBAAA,sBAAAC,KAAA;EACAC,OAAA,CAAAC,GAAA,yBAAAF,KAAA,CAAAG,IAAA;EACAP,oBAAA,CAAAQ,KAAA,GAAAJ,KAAA,CAAAG,IAAA;AACA;AACA,SAAAE,KAAA;EACA,MAAAC,OAAA,GAAAb,gBAAA,CAAAW,KAAA;EACA,IAAAP,MAAA,CAAAU,UAAA,KAAAT,SAAA,CAAAU,IAAA;IACAP,OAAA,CAAAC,GAAA;IACA;EACA;EACA,IAAAI,OAAA,EAAAT,MAAA,CAAAQ,IAAA,CAAAC,OAAA;AACA"},"metadata":{},"sourceType":"script","externalDependencies":[]}